<!DOCTYPE html>
<html lang="vi">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Trang quản lý BHYT</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
  <link rel="stylesheet" href="styles.css">
</head>
<body>
  <div class="container">
    <h3 class="mb-4">Danh sách BHYT đến hạn</h3>
    <div class="mb-3">
      <button class="btn btn-primary me-2" onclick="loadData('dueSoon')">±30 ngày</button>
      <button class="btn btn-warning me-2" onclick="loadData('expiredRecently')">30–90 ngày trước</button>
      <select id="monthSelect" class="form-select d-inline w-auto" onchange="loadData('byMonth')">
        <option value="">Chọn tháng</option>
      </select>
    </div>
    <div id="loading" class="text-muted mb-2">Đang tải dữ liệu...</div>
    <div class="table-responsive">
      <table class="table table-bordered table-striped">
        <thead>
          <tr>
            <th>Họ tên</th>
            <th>Ngày sinh</th>
            <th>Từ ngày</th>
            <th>Đến ngày</th>
            <th>Số điện thoại</th>
            <th>Địa chỉ</th>
            <th>maPb</th>
            <th>maBv</th>
          </tr>
        </thead>
        <tbody id="dataBody"></tbody>
      </table>
    </div>
    <button class="btn btn-outline-secondary mt-3" onclick="logout()">Đăng xuất</button>
  </div>
  <script>
    const today = new Date();
    for (let m = 1; m <= 12; m++) {
      const option = document.createElement('option');
      option.value = m;
      option.textContent = `Tháng ${m}/${today.getFullYear()}`;
      document.getElementById('monthSelect').appendChild(option);
    }
    window.onload = () => loadData('dueSoon');
  </script>
  <script src="scripts.js"></script>
</body>
</html>
